<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Registration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>RURAL HEALTHCARE CONNECT</h1>
    </header>
    
  <form>
    <h2>Patient Registration</h2>

    <input type="hidden" name="form_type" value="patient" />

    <label for="name">Name:</label>
    <input type="text" name="name" id="name" required>

    <label for="dob">D.O.B.:</label>
    <input type="date" name="dob" id="dob" required>

    <label for="gender">Gender</label>
    <select id="gender" name="gender" required>
      <option value="">-- Select Gender --</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
      <option value="prefer_not_to_say">Prefer not to say</option>
    </select>

    <label for="id_card">Aadhar/Ayushmaan Card No:</label>
    <input type="text" name="id_card" id="id_card" maxlength="14" pattern="\d{12,14}" required>

    <label for="contact">Mobile no:</label>
    <input type="text" name="contact" id="contact" pattern="\d{10}" maxlength="10" required>

    <label for="email">Email:</label>
    <input type="email" name="email" id="email" required>

    <label for="address">Address:</label>
    <input type="text" name="address" id="address" required>

    <label for="weight">Weight (kg):</label>
    <input type="text" name="weight" id="weight">

    <label for="height">Height (cm):</label>
    <input type="text" name="height" id="height">

    <label for="allergy">Allergies (if any):</label>
    <input type="text" name="allergy" id="allergy">

    <label for="med_con">Existing Medical Conditions (if any):</label>
    <input type="text" name="med_con" id="med_con" required>

    <label for="insurance">Insurance Provider:</label>
    <input type="text" name="insurance" id="insurance">

    <label for="policy_no">Policy No:</label>
    <input type="text" name="policy_no" id="policy_no">

    <input type="submit" value="Register">
  </form>
</body>
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwCzvNtP745c4MHoV4bTdLeaRa4yK3T0L2dndSIMTWBtaq-V0PwGcZEBg9ZgBjoQ1Bu/exec';
    const form = document.querySelector("form");
  
    form.addEventListener("submit", e => {
      e.preventDefault();
  
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());
  
      fetch(scriptURL, {
        method: 'POST',
        body: JSON.stringify(data),
      })
      .then(response => {
        alert("Patient registered successfully!");
        form.reset();
      })
      .catch(error => {
        alert("Error occurred: " + error.message);
      });
    });
  </script>
  
</html>